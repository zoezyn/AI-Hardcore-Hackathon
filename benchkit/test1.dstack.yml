type: task
name: bench-resnet18-3090

# image: nvidia/cuda:12.4.1-runtime-ubuntu22.04   # keep this
python: "3.11"                                # ← remove or comment out

commands:
  # - apt-get update && apt-get install -y python3 python3-pip   # add Python
  - pip install -r requirements.txt -v
  - python benchmark.py --model resnet18 > results.jsonl
  - cat results.jsonl            #
  
resources:
  gpu: 24GB..:1
  memory: 16GB..
  cpu: 8..

backends: [runpod]
retry:
  on_events: [no-capacity, interruption]
  duration: 30m
